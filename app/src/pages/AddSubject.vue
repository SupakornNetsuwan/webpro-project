<template>
  <div className="w-full flex min-h-screen flex-col bg-gray-1">
    <ContentWrapper>
      <button
        @click="($event) => $router.go(-1)"
        class="flex items-center cursor-pointer border-none bg-transparent pl-0"
      >
        <ChevronLeftIcon class="h-5 w-5 text-red-primary" />
        <h4 class="text-red-primary">‡∏Å‡∏•‡∏±‡∏ö</h4>
      </button>

      <h1 className="text-black mt-10">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏¥‡∏ä‡∏≤</h1>
      <h4 className="text-gray-3">
        ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏¥‡∏ä‡∏≤‡πÉ‡∏´‡∏°‡πà ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏û‡∏™‡∏ï‡πå
      </h4>
      <div class="h-[1px] bg-gray-2 my-8" />
      <div className="md:max-w-[50%]">
        <div>
          <h4 className="text-blue-primary ">
            ‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ä‡∏≤<span className="text-red-primary">*</span>
          </h4>
          <input
            type="text"
            id="post-topic"
            name="post-topic"
            className="input w-full md:max-w-[70%]"
            v-model="subjectName"
          />
        </div>
        <div>
          <h4 className="text-blue-primary mt-8">
            ‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ú‡∏π‡πâ‡∏™‡∏≠‡∏ô<span className="text-red-primary">*</span>
          </h4>
          <input
            type="text"
            id="post-topic"
            name="post-topic"
            className="input w-full md:max-w-[70%]"
            v-model="instructorName"
          />
        </div>
        <div>
          <h4 className="text-blue-primary mt-8">
            ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤<span className="text-red-primary">*</span>
          </h4>
          <p className="text-gray-3 w-full">
            ‡∏•‡∏≠‡∏á‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ß‡πà‡∏≤‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏≠‡∏∞‡πÑ‡∏£
          </p>
          <textarea
            name="post-intro"
            id="post-intro"
            rows="5"
            className="w-full resize-none input"
            v-model="description"
          />
        </div>
        <div>
          <div class="h-[1px] bg-gray-2 my-8" />
          <button
            @click="createPost"
            className="flex items-center space-x-1 px-4 py-2 transition-all duration-300 bg-blue-primary border-blue-primary"
          >
            <PlusIcon class="w-6 h-6 text-white" />
            <h5 class="text-white">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏¥‡∏ä‡∏≤</h5>
          </button>
        </div>
      </div>
    </ContentWrapper>
  </div>
</template>
<script>
import ContentWrapper from "../components/ContentWrapper.vue";
import { ChevronLeftIcon, PlusIcon } from "@heroicons/vue/24/outline";
import { mapState } from "vuex";
import ComboBox from "../components/ComboBox.vue";
// import { addSubject } from "../resources/api";

export default {
  components: {
    ContentWrapper,
    ChevronLeftIcon,
    PlusIcon,
    ComboBox,
  },
  data() {
    return {
      subjectName: "‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ä‡∏≤",
      instructorName: "‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ú‡∏π‡πâ‡∏™‡∏≠‡∏ô",
      description: null
    };
  },
  async created() {
  },
  mounted() {},
  methods: {
    // async addSubject() {
    //   if (!this.subjectName || !this.instructorName || !this.description) {
    //     this.$store.commit("setIsModalOpen", {
    //       isModalOpen: true,
    //       content: "‡πÇ‡∏õ‡∏£‡∏î‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô",
    //       redirectTo: "",
    //     });

    //     return;
    //   }

    //   try{
    //     const formData = new FormData();
    //     formData.append("subjectName", this.subjectName);
    //     formData.append("instructorName", this.instructorName);
    //     formData.append("description", this.description);

    //     const response = await addSubject(formData);
    //     console.log("Success")
    //     // console.log(response.data)

    //     this.$store.commit("setIsModalOpen", {
    //       isModalOpen: true,
    //       content: "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à üåü",
    //       redirectTo: "",
    //     });

    //   }catch(err){
    //     this.$store.commit("setIsModalOpen", {
    //       isModalOpen: true,
    //       content: err.response.data,
    //       redirectTo: "",
    //     });
    //   }
    // },
  },
  watch: {},
  beforeMount() {
    if (!this.getAuthen) {
      this.$router.push("/");
    }
  },
  computed: mapState({
    authen: (state) => state.authen,
    // to access local state with `this`, a normal function must be used
    getAuthen(state) {
      return state.authen;
    },
  }),
};
</script>
